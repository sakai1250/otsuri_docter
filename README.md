# otsuri_docter

## なにをするアプリか
- カメラで硬貨を映し、CoreMLモデルで枚数を推定して合計金額を表示する（Flutter版 `kozeniapp` の Swift 版）
- 推論結果は画面下部に `1 yen 2` / `合計: 300円` のように表示されます

## 使い方
1. `otsuri_doctor/otsuri_doctor/otsuri_doctor/` に CoreML のモデルファイルを配置  
   - `.mlmodelc` を置くのがベスト（ビルド済み）  
   - `.mlmodel` しかない場合はアプリ起動時に自動でコンパイルして読み込みます
2. ラベルは `labels.txt` を読み込みます（初期値は Flutter 版と同じ以下7行）  
   ```
   1 yen
   5 yen
   10 yen
   50 yen
   100 yen
   500 yen
   other
   ```
3. アプリを起動し、カメラアクセスを許可してください。1秒おきに推論して合計を更新します。

## 備考
- 推論がうまくいかないときは CoreML モデルの入出力形状が Flutter 版と一致しているか確認してください（出力はラベル順に枚数が入っている前提です）。
- カメラ権限の説明文は `NSCameraUsageDescription` に追加済みです。

## プライバシーポリシー
- 取得する情報: カメラで撮影した画像、フォトライブラリから選択した画像、推論結果（各硬貨の枚数・合計金額）、記録日時を端末内に保存します。
- 利用目的: 硬貨の推論と結果表示、履歴の保存・閲覧、簡易的な集計表示（記録日数や累計金額）のためにのみ使用します。
- 保存と共有: 取得したデータは端末内 (Core Data) にのみ保存され、外部サーバーへ送信・共有しません。履歴はアプリ内から削除でき、アプリをアンインストールすると関連データも端末から削除されます。
- アクセス権限: カメラと写真へのアクセスを求めます。権限は推論機能の提供のために必要で、許可しない場合は該当機能が使えません。権限設定は端末の設定からいつでも変更できます。
- 変更と問い合わせ: 本ポリシーは必要に応じて更新する場合があります。問い合わせや要望は本リポジトリの Issue までお知らせください。
